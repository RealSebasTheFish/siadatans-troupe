<!DOCTYPE html>
<html>
    <head>
        <title>Pathwise</title>
        <link rel="stylesheet" type="text/css" href="main.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://cdn.socket.io/4.8.0/socket.io.min.js" integrity="sha384-OoIbkvzsFFQAG88r+IqMAjyOtYDPGO0cqK5HF5Uosdy/zUEGySeAzytENMDynREd" crossorigin="anonymous"></script>
        <script>
            const socket = io("https://fb85-199-212-64-70.ngrok-free.app/", { transports : ['websocket'] });
            console.log(socket);

            $(document).ready(function(){
                socket.on("connect", () => {
                    console.log("Connection Successful!");
                });

                socket.on("response-packet", function(data) {
                    data["type"]
                });
            });

            function report(type) {
                var latitude = null;
                var longitude = null;
                var name = null;
                const data = {
                    "type": type, // Ping type
                    "location": {
                        "latitude": latitude, // location part 1
                        "longitude": longitude // location part 2
                    },
                    "timestamp": new Date().toISOString(), // timestamp from the server
                    "username": name, // username input
                };

                socket.emit("report-packet", data);
            }
        </script>
    </head>
    <body>
        <iframe id="map" style="border:0" loading="lazy" allowfullscreen src="https://www.google.com/maps/embed/v1/view?zoom=13&center=43.7735%2C-79.5019&key=AIzaSyC8eS78o6WnetL25F4Fg7-74WpSBKAKmSY"></iframe>
        <button id="report-button"><img id="report-button-image" src="img/caution.png" /></button>
    </body>
</html>